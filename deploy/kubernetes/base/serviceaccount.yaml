# =============================================================================
# LLM Gateway ServiceAccount
# =============================================================================
# ServiceAccount for the LLM Gateway pods to use for:
# - RBAC permissions within the cluster
# - Pod identity for cloud provider integrations (AWS IRSA, GCP Workload Identity)
# - Audit logging attribution
# =============================================================================

apiVersion: v1
kind: ServiceAccount
metadata:
  name: llm-gateway
  namespace: llm-services
  labels:
    # Standard Kubernetes recommended labels
    app.kubernetes.io/name: llm-gateway
    app.kubernetes.io/component: gateway
    app.kubernetes.io/part-of: llm-document-enhancement
    app.kubernetes.io/managed-by: kustomize
    
    # Version label (overridden during deployment)
    app.kubernetes.io/version: "0.1.0"
  annotations:
    # Documentation
    description: "ServiceAccount for LLM Gateway pods"
    
    # AWS IRSA annotation (uncomment and configure for AWS EKS)
    # eks.amazonaws.com/role-arn: arn:aws:iam::ACCOUNT_ID:role/llm-gateway-role
    
    # GCP Workload Identity annotation (uncomment and configure for GKE)
    # iam.gke.io/gcp-service-account: llm-gateway@PROJECT_ID.iam.gserviceaccount.com

# Disable automatic token mounting if not needed (security best practice)
# automountServiceAccountToken: false
